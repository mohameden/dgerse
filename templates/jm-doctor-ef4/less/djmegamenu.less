//--------------------------------------------------------------
// Copyright (C) joomla-monster.com
// License: http://www.joomla-monster.com/license.html Joomla-Monster Proprietary Use License
// Website: http://www.joomla-monster.com
// Support: info@joomla-monster.com
//---------------------------------------------------------------

// VARIABLES import
//---------------------------------------------------------------

@import "bootstrap_variables.less";
@import "template_variables.less";

// MIXINS import
//---------------------------------------------------------------

@import "template_mixins.less";

// MEGAMENU
//---------------------------------------------------------------

.dj-megamenu {
	margin: -20px 0;
	position: relative;
	display: inline-block;
	width: 100%;
	vertical-align: top;
	z-index: 500;
	font-family: @JMtopmenuFontFamily;
}

.dj-megamenu li.dj-up {
	background-image: none;
	position: relative;
	display: block;
	float: left;
	padding: 0;
	margin: 0 0 0 1px;
	z-index: 1;
	a.dj-up_a {
		font-size: @JMtopmenuFontSize;
		font-weight: 400;
		display: block;
		text-decoration: none;
		padding: (@JMmegamenuElementHeight /2) 25px;
		line-height: 20px;
		cursor: pointer;
		color: @JMmegamenuFontColor;
		text-align: center;
		position: relative;
		span {
			display: block;
		}
		small.subtitle {
			position: relative;
			bottom: 0;
			display: block;
			font-size: @JMmegamenuElementSubtitleFontSize;
			text-transform: none;
			line-height: (@JMmegamenuElementSubtitleFontSize+2);
			font-weight: 300;
			.opacity(80);
		}
		&:after {
			content: '';
			position: absolute;
			height: 0;
			width: 100%;
			top: -5px;
			left: 0;
			right: auto;
			.transition(all 0.2s ease-out 0s);
			background: @JMstyleMegamenuFontHover;
		}
	}
	&.active,
	&:hover,
	&.hover  {
		a.dj-up_a {
			color: @JMstyleMegamenuFontHover;
			&:after {
				height: 5px;
			}
		}
	}
}

.dj-megamenu.hasSubtitles li a.dj-up_a {
	padding: ((@JMmegamenuElementHeight - (@JMmegamenuElementSubtitleFontSize + 2)) /2) 25px;
}

.dj-megamenu li.separator > a {
	cursor: default;
}

//full width submenu
.dj-megamenu-override li.dj-up.fullsub {
	position: static !important;
}

.dj-megamenu-override li.dj-up.fullsub a.dj-up_a {
	position: relative;
}

// sticky
// --------------------------

.dj-megamenu-sticky {
	margin: 0;
	background: @JMbarBackground;
	border-bottom: 1px solid @JMbarBorder;
	border-top: 5px solid @JMbarBorder;
	ul.dj-megamenu {
		margin: 0;
	}
	li.dj-up {
		a.dj-up_a {
			padding: (@JMmegamenuElementHeight /4) 25px;
		}
	}
}

.dj-megamenu .dj-stickylogo {
	&.dj-align-center {
		text-align: center;
		margin: 10px;
	}
	&.dj-align-left {
		text-align: left;
		margin: 10px;
	}
	&.dj-align-right {
		text-align: right;
		margin: 10px;
	}
}

// select
// --------------------------

#jm-allpage .select-input .dj-select {
	max-width: none;
	margin: 10px;
	font-family: inherit;
	font-size: @JMinputFontSize;
	font-weight: 400;
	padding: @JMinputPadding;
	vertical-align: middle;
	border: 1px solid @JMinputBorder;
	color: @JMinputFontColor;
	background: @JMinputBackground;
	height: @JMinputHeight;
	line-height: @JMinputHeight;
}

// submenu
// --------------------------

.dj-megamenu li.dj-up:hover,
.dj-megamenu li.dj-up.hover,
.dj-megamenu .dj-submenu > li:hover,
.dj-megamenu .dj-subtree > li:hover {
	position: relative;
	z-index: 200;
}

//hide submenus
.dj-megamenu li div.dj-subwrap {
	position: absolute;
	left: auto;
	right: auto;
	top: -9999px;
	visibility: hidden;
}

//first level submenu
.dj-megamenu {
	li:hover,
	li.hover {
		div.dj-subwrap {
			left: 0;
			right: auto;
			top: 100%;
			 visibility: visible;
			z-index: 300;
			.box-sizing(border-box);
			//border-top: 20px solid transparent;
			div.dj-subwrap-in {
				background: @JMmegamenuSubmenuBackground;
				border: 1px solid @JMmegamenuSubmenuBorder;
				border-bottom: 1px solid @JMmegamenuSubmenuBottomBorder;
				.box-shadow(0 1px 0 0 rgba(red(@JMmegamenuSubmenuBorder), green(@JMmegamenuSubmenuBorder), blue(@JMmegamenuSubmenuBorder), 0.3));
			}
		}
	}
}

//higher level submenu
.dj-megamenu {
	li:hover,
	li.hover {
		div.dj-subwrap div.dj-subwrap {
			left: 100%;
			right: auto;
			top: 0;
			z-index: 400;
			border-left: 8px solid transparent;
			border-right: 8px solid transparent;
		}
	}
}

//submenu elements styles
.dj-megamenu .div.dj-subwrap-in {
	display: table;
}

.dj-megamenu .dj-subcol {
	.box-sizing(border-box);
	display: table-cell;
	height: 100%;
	position: relative;
	border-left: 1px solid @JMmegamenuSubmenuBorder;
	&:first-child {
		border: none;
	}
}

.dj-megamenu .dj-submenu,
.dj-megamenu .dj-subtree {
	padding: 10px;
	> li {
		display: block;
		position: relative;
		padding: 0 15px;
		background: none;
		> a {
			color: @JMmegamenuSubmenuFontColor;
			display: block;
			font-size: 13px;
			line-height: 19px;
			text-decoration: none;
			padding: 10px 0;
			small.subtitle {
				display: block;
				font-size: 11px;
			}
		}
	}
	> li:hover > a,
	> li.hover > a,
	> li.active > a {
		color: @JMstyleMegamenuSubmenuActiveFontColor;
	}
	> li.parent > a {
		position: relative;
		&:after {
			content: '+';
			position: absolute;
			top: 11px;
			right: 5px;
			font-weight: 700;
			font-size: 16px;
			line-height: 1;
		}
	}
}

//image in menu
.dj-megamenu {
	li.dj-up a span.image-title {
		margin: 0 0 0 15px;
		display: inline-block;
		vertical-align: middle;
	}
	li > a > img {
		max-height: 16px;
		vertical-align: middle;
	}
	li.dj-up > a > img {
		max-height: 30px;
	}
}


// submenu tree
// --------------------------
.dj-megamenu .dj-subtree {
	list-style: none outside;
	padding: 0 !important;
	margin: 0!important;
	> li {
		list-style: none outside;
		padding: 0 0 0 10px;
		margin: 0;
	}
	> li > a {
		display: block;
		font-size: 13px;
		line-height: 16px;
		text-decoration: none;
		padding: 5px 10px;
		background-position: left 10px;
		background-repeat: no-repeat;
		background-image: url('../images/@{JMimgDir}/li.png');
	}
	> li > a small.subtitle {
		display: block;
		font-size: 0.9em;
		line-height: 1;
	}
}

// modules
// --------------------------

.dj-megamenu .modules-wrap {
	padding: 15px 0;
	color: @JMmegamenuSubmenuFontColor;
	p {
		display: block;
		padding: 0;
	}
	.moduletable {
		font-size: 13px;
		clear: both;
		margin: 30px 0 0;
		position: relative;
		> h3 {
			color: @JMmegamenuFontColor;
			font-weight: 300;
			line-height: 1.1;
			font-size: 13px;
			text-transform: uppercase;
			margin: 0 0 25px;
		}
		&:first-child {
			margin: 0;
		}
	}
}

